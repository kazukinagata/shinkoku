# `/journal` -- 仕訳入力・帳簿管理

CSV・レシート・請求書からデータを取り込み、ユーザー確認のうえ仕訳を登録する。帳簿の初期化・検索・修正・削除にも対応する。

## このスキルでできること

- 帳簿（SQLite データベース）の初期化
- CSV ファイル（クレカ明細・銀行取引明細等）の取り込みと仕訳変換
- レシート・領収書画像の OCR 読み取りと仕訳変換
- PDF 請求書のテキスト抽出と仕訳変換
- 摘要キーワードによる勘定科目の自動推定
- 単一仕訳・一括仕訳の登録（ユーザー確認あり）
- 仕訳の検索・修正・削除
- 重複チェック（ファイル重複・仕訳重複）
- インポート履歴の記録

## 使い方

書類収集（`/gather`）の完了後、帳簿への記帳を行うときに実行する。

```
/journal
```

### 前提条件

- `/setup` が完了していること
- 取り込み対象のファイル（CSV・レシート画像・請求書PDF等）が手元にあること

### 基本フロー

1. データ取り込み（CSV / レシート画像 / 請求書PDF）
2. 勘定科目の推定とユーザー確認
3. 仕訳の登録

### 完了後の次のステップ

- `/settlement` で決算整理・決算書作成を行う

## 補足

- レシート・請求書画像の OCR 読み取りにはマルチモーダル LLM が必要（Vision 対応モデル）
- OCR 読み取りはサブエージェント（reading-receipt / reading-invoice）に委任されるため、Claude Code の利用を推奨する
- 仕訳は登録前に必ずユーザーの確認を行い、自動登録はしない
- 結果は `.shinkoku/progress/04-journal.md` に引継書として保存される
