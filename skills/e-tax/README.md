# `/e-tax` -- e-Tax 電子申告用 xtx ファイル生成

shinkoku で計算した確定申告データから e-Tax 用の xtx ファイル（XML Tax Data）を生成し、e-Tax Web へのアップロードによる電子申告を支援するスキル。

## このスキルでできること

- 所得税の xtx ファイル生成（申告書B 第一表・第二表、青色申告決算書、所得の内訳書等）
- 消費税の xtx ファイル生成（課税事業者の場合）
- 住宅ローン控除明細書の xtx 出力（該当者のみ）
- 生成前のサニティチェック（データ不整合の事前検出）
- 生成結果のレビュー（税額サマリーの確認）
- e-Tax Web でのアップロード手順の案内

## 使い方

以下のスキルが完了していることが前提条件となる:

1. `/setup` -- 設定ファイル（shinkoku.config.yaml）が作成済みであること
2. `/income-tax` -- 所得税の計算が完了していること
3. `/settlement` -- 決算書（PL/BS）が作成済みであること
4. `/consumption-tax` -- 消費税の計算が完了していること（課税事業者のみ）

全ての計算が完了した後、「e-Tax提出したい」「xtx生成して」「電子申告の準備をして」等で呼び出す。

## 補足

- xtx ファイルには電子署名は含まれない。e-Tax Web 上でマイナンバーカードによる署名が必要
- 所得税と消費税は別々の xtx ファイルとして生成される
- e-Tax で電子申告する場合、源泉徴収票や控除証明書等の添付書類は提出省略可能（5年間の保存義務あり）
- 提出期限: 所得税は3月16日、消費税は3月31日
